function check_required_fields(){$(".required_field").removeClass("empty_field");var e=0;return $(".required_field").each(function(t){""==$(this).val()&&($(this).addClass("empty_field"),e++)}),setTimeout(function(){$(".required_field").removeClass("empty_field")},6e3),!(e>0)}function house_search(e){e?location=$("#regid").val()+"/page/"+e:location=$("#regid").val()+"/search/?q=0"}function ext_house_search(){$(".house_sel").val()?location=$("#regid").val()+"/page/"+$(".house_sel").val():$(".street_sel").val()?location=$("#regid").val()+"/search/"+$(".city_sel").val()+"/"+$(".street_sel").val():$(".city_sel").val()?location=$("#regid").val()+"/search/"+$(".city_sel").val():location=$("#regid").val()+"/search"}$(".sysmsg").delay(4e3).fadeOut("slow"),$.modal.defaults={overlay:"#000000",opacity:.5,zIndex:1001,escapeClose:!1,clickClose:!1,closeText:"",closeClass:"",showClose:!0,modalClass:"modal",spinnerHtml:null,showSpinner:!0,fadeDuration:100,fadeDelay:.5};var buttonUp=$("#ubar");if($(window).scroll(function(e){var t=$(window).scrollTop();210<=t?buttonUp.fadeIn(1e3):buttonUp.fadeOut(1e3)}),$(".btn-top").click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:0})}),$(".only_numbers").bind("change keyup input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,""))}),$(function(){$('a[rel="tooltip:show"]').click(function(e){e.preventDefault();var t=$(this).attr("href"),s=$(this).attr("id"),o=$(this).next(".tooltip-wnd").length;$(".tooltip-wnd").remove(),0==o&&$.ajax({url:t,type:"POST",dataType:"html",data:{},success:function(e){e?$(e).insertAfter("#"+s):window.location.href=t}})}),$(document).click(function(e){0==$(e.target).closest(".tooltip-wnd").length&&"tooltip:show"!=$(e.target).attr("rel")&&$(".tooltip-wnd").remove()})}),$(function(){function e(e,t){var s=$(document).scrollTop()+80,o=$("footer").offset().top-20,l=$(e).outerHeight(),a=o-l;s>t&&s<a?($(e).addClass("fixed"),$(e).removeAttr("style"),$(e).removeClass("absolute")):s>=a?($(e).removeClass("fixed"),$(e).addClass("absolute"),$(e).css({top:a})):($(e).removeClass("fixed"),$(e).removeClass("absolute"),$(e).removeAttr("style"))}var t=["float-block-1","float-block-2"],s=t.map(function(e,t,s){if($("#"+e).length)return $("#"+e).offset().top}),o=$("aside.left").outerHeight(),l=$("aside.right").outerHeight();$("aside.left").css({height:o}),$("aside.right").css({height:l}),$(window).scroll(function(){s.forEach(function(o,l,a){e("#"+t[l],s[l])})})}),void 0!=$.fn.chosen&&($(".city_sel, .street_sel").chosen({no_results_text:"Ничего не найдено по запросу",allow_single_deselect:!1,width:"437px"}),$(".house_sel").chosen({no_results_text:"Номер дома не найден",allow_single_deselect:!1,width:"150px"}),$(".city_sel, .street_sel").chosen().change(function(e){var t=$(this).attr("name"),s=$(this).val();$.ajax({url:"/house",type:"POST",dataType:"JSON",data:{select:t,id:s},success:function(e){var s='<option value=""></option>';$.each(e,function(e,o){"street"==t&&""!=o.cor&&(o.txt=o.txt+" / "+o.cor),s+='<option value="'+o.val+'">'+o.txt+"</option>"}),"city"==t&&$(".street_sel").html(s).trigger("chosen:updated"),"street"==t&&$(".house_sel").html(s).trigger("chosen:updated")}})})),void 0!=$.fn.chosen){var house;$(function(){$("#query-address").autocomplete({serviceUrl:$("#regid").val(),type:"post",minChars:1,maxHeight:500,zIndex:100,deferRequestBy:200,params:{task:"address_search"},noCache:!0,autoSelectFirst:!0,showNoSuggestionNotice:!0,noSuggestionNotice:"Не найдено",onSelect:function(e){e.house&&(house=e.house,$(".btn-house-search").focus(),house_search(house))},formatResult:function(e,t){var s=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),o="("+t.replace(s,"\\$1")+")";return e.value.replace(new RegExp(o,"gi"),"<strong>$1</strong>")}})})}$(".btn-clear").click(function(){$("#query-address").val(""),$("#query-address").focus(),$(".btn-clear").hide()}),$("#query-address").keyup(function(e){13==e.keyCode&&house_search(),$("#query-address").val()?$(".btn-clear").show():$(".btn-clear").hide()}),$(".btn-ehs-close").click(function(){$(".btn-ehs-wnd").show(),$(".ext-house-search").hide()}),$(".btn-ehs-wnd").click(function(e){$(".btn-ehs-wnd").hide(),$(".ext-house-search").slideToggle(100)}),$(document).click(function(e){0==$(e.target).closest(".ext-house-search").length&&"btn-ehs-wnd"!=$(e.target).attr("class")&&($(".ext-house-search").hide(),$(".btn-ehs-wnd").show())}),$(function(){$("ul.tabs").on("click","li:not(.current)",function(){$(this).addClass("current").siblings().removeClass("current").parents("div.section").find("div.tab").eq($(this).index()).fadeIn(150).siblings("div.tab").hide()})}),$(function(){var e=$("#fixedbar");$(window).scroll(function(t){var s=$(window).scrollTop();152<=s?e.addClass("fixed"):e.removeClass("fixed")})});
//# sourceMappingURL=maps/script.js.map
